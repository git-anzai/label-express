{"version":3,"sources":["webpack:///src/components/pages/orderManage/orderExamine.vue","webpack:///./src/components/pages/orderManage/orderExamine.vue?395f","webpack:///./src/components/pages/orderManage/orderExamine.vue"],"names":["orderExamine","data","_this2","this","contentHeight","tableHeight","searchData","order","mobile","buyerName","pageData","columns","title","key","align","width","render","h","params","props","size","type","disabled","row","order_status","style","marginRight","on","click","$Modal","confirm","content","onOk","goWarehouse","totalCount","pageCurrent","pageSize","selection","mounted","Number","window","innerHeight","queryTable","methods","handleFormatError","$Message","warning","duration","closable","handleSuccess","res","file","console","log","paramsRow","_this3","logistics_type","id","buyer_name","buyerMobile","buyer_mobile","buyer_province","buyer_district","buyer_city","buyer_address","order_code","$http","post","Api","GENERATE_LABEL","then","success","getLable","code","open","handleChange","count","curPage","_this4","_this","getData","GET_ORDER_LIST","list","parseInt","selectRow","length","push","item","orderManage_orderExamine","_vm","_h","$createElement","_c","_self","padding","margin","_v","staticClass","minHeight","ref","attrs","label-width","inline","label","placeholder","model","value","callback","$$v","$set","expression","$event","staticStyle","margin-left","show-upload-list","format","on-format-error","on-success","action","height","border","on-selection-change","text-align","margin-top","total","show-elevator","show-total","page-size","current","on-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/3.7218ed621b80eaf1d6f6.js","sourcesContent":["<template>\n  <Content :style=\"{padding: '0 16px 16px'}\">\n    <Breadcrumb :style=\"{margin: '16px 0'}\">\n      <BreadcrumbItem>订单管理</BreadcrumbItem>\n      <BreadcrumbItem>订单审核</BreadcrumbItem>\n    </Breadcrumb>\n    <Card>\n      <div :style=\"{minHeight:contentHeight+'px'}\" class=\"ss\">\n        <Form :label-width=\"68\" ref=\"formInline\" inline>\n          <FormItem label=\"订单号:\">\n            <Input type=\"text\" placeholder=\"请输入订单号\" v-model=\"searchData.order\"></Input>\n          </FormItem>\n          <FormItem label=\"手机号:\">\n            <Input type=\"text\" placeholder=\"请输入手机号\" v-model=\"searchData.mobile\"></Input>\n          </FormItem>\n          <FormItem label=\"买家昵称:\">\n            <Input type=\"text\" placeholder=\"请输入买家昵称\" v-model=\"searchData.buyerName\"></Input>\n          </FormItem>\n          <FormItem>\n          <Button type=\"primary\" @click=\"queryTable()\">查询</Button>\n          </FormItem>\n          <FormItem>\n            <Upload\n              :show-upload-list=\"false\"\n              :format=\"['xlsx']\"\n              :on-format-error=\"handleFormatError\"\n              :on-success=\"handleSuccess\"\n              action=\"http://localhost:3000/apis/orderUpload\"\n              style=\"margin-left: 18px;\">\n              <!--:data=\"{'service': Api.VENUS_ERP_ORDERONLINE_ORDER_IMPORT}\"-->\n              <Button type=\"primary\">导入订单</Button>\n            </Upload>\n          </FormItem>\n        </Form>\n        <Table :height=\"tableHeight\" border ref=\"selection\" :columns=\"pageData.columns\" :data=\"pageData.data\"\n               @on-selection-change=\"selectRow\"></Table>\n        <Page style=\"text-align: right;margin-top: 10px;\" :total=\"pageData.totalCount\" show-elevator show-total\n              :page-size=\"pageData.pageSize\" :current=\"pageData.pageCurrent+1\" @on-change=\"handleChange\"></Page>\n      </div>\n    </Card>\n  </Content>\n</template>\n<script>\n  export default {\n    data() {\n      return {\n        contentHeight: 0,\n        tableHeight: 0,\n        searchData: {\n          order: '',\n          mobile: '',\n          buyerName: '',\n        },\n        pageData: {\n          columns: [\n            {\n              title: 'id',\n              key: 'id',\n              align: 'center',\n              width: 60,\n            },\n            {\n              title: '订单号',\n              key: 'order_code',\n              align: 'center',\n            },\n            {\n              title: '下单时间',\n              key: 'create_time',\n              align: 'center',\n            },\n            {\n              title: '买家昵称',\n              key: 'buyer_name',\n              align: 'center',\n            },\n            {\n              title: '手机号',\n              key: 'buyer_mobile',\n              align: 'center',\n            },\n            {\n              title: '卖家备注',\n              key: 'buyer_make',\n              align: 'center',\n            },\n            {\n              title: '详细地址',\n              key: 'buyer_address',\n              align: 'center',\n            },\n            {\n              title: '货品名称',\n              key: 'goods_name',\n              align: 'center',\n            },\n            {\n              title: '数量',\n              key: 'goods_count',\n              align: 'center',\n              width: 70,\n            },\n            {\n              title: '运单号',\n              key: 'logistics_num',\n              align: 'center',\n            },\n            {\n              title: '订单状态',\n              key: 'order_status',\n              align: 'center',\n            },\n            {\n              title: '操作',\n              key: 'action',\n              align: 'center',\n              render: (h, params) => {\n                let actionBtn = []\n                actionBtn = [\n                  h('Button', {\n                    props: {\n                      size: 'small',\n                      type: 'success',\n                      disabled:params.row.order_status==1?true:false\n                    },\n                    style: {\n                      marginRight: '5px'\n                    },\n                    on: {\n                      click: () => {\n                        this.$Modal.confirm({\n                          title: '提示',\n                          content: '确定要打印面单吗？',\n                          onOk: () => {\n                            this.goWarehouse(params.row);\n                          }\n                        })\n                      }\n                    }\n                  }, '打印面单'),\n                ]\n                return h('div', actionBtn);\n              }\n            }\n          ],\n          data: [],\n          totalCount: 0,\n          pageCurrent: 0,\n          pageSize: 0,\n          selection: []\n        },\n      }\n    },\n    mounted() {\n      this.tableHeight = Number(window.innerHeight - 318);\n      this.contentHeight = Number(window.innerHeight - 170);\n      this.queryTable();\n    },\n    methods: {\n      handleFormatError() {\n        this.$Message.warning({\n          content: '文件格式不符，请选择.xlsx格式的文件上传',\n          duration: 3,\n          closable: true\n        });\n      },\n      handleSuccess(res,file) {\n        console.log(res)\n      },\n      goWarehouse(paramsRow) {\n        let params = {\n          data: {\n            logistics_type:paramsRow.logistics_type,\n            id:paramsRow.id,\n            buyerName: paramsRow.buyer_name,\n            buyerMobile: paramsRow.buyer_mobile,\n            buyer_province: paramsRow.buyer_province,\n            buyer_district: paramsRow.buyer_district,\n            buyer_city: paramsRow.buyer_city,\n            buyer_address: paramsRow.buyer_address,\n            order_code: paramsRow.order_code\n          }\n        }\n        this.$http.post(this.Api.GENERATE_LABEL, params).then(res => {\n          if (res.success) {\n            this.getLable(res.code)\n          }\n        })\n      },\n      getLable(code) {\n        window.open(`http://localhost:3000/apis/getLabel?code=${code}`, '_self');\n        this.queryTable();\n      },\n      handleChange(count) {\n        count = count - 1;\n        this.queryTable(count);\n      },\n      queryTable(curPage) {\n        const _this = this;\n        curPage = curPage ? curPage : 0;\n        let params = {\n          \"order\": _this.searchData.order,\n          \"mobile\": _this.searchData.mobile,\n          \"buyerName\": _this.searchData.buyerName,\n          \"pageCurrent\": curPage,\n          \"pageSize\": '',\n        }\n        _this.$http.getData(_this.Api.GET_ORDER_LIST, params).then(res => {\n          if (res.success) {\n            _this.pageData.data = res.data.list;\n            this.pageData.totalCount = parseInt(res.data.totalCount);\n            this.pageData.pageSize = parseInt(res.data.pageSize);\n            this.pageData.pageCurrent = parseInt(res.data.pageCurrent);\n          } else {\n          }\n        })\n      },\n      selectRow(selection) {\n        this.pageData.selection = []\n        if (selection.length == 1) {\n          this.pageData.selection.push(selection[0].id)\n        } else if (selection.length > 1) {\n          for (let item in selection) {\n            this.pageData.selection.push(selection[item].id);\n          }\n        }\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/pages/orderManage/orderExamine.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Content',{style:({padding: '0 16px 16px'})},[_c('Breadcrumb',{style:({margin: '16px 0'})},[_c('BreadcrumbItem',[_vm._v(\"订单管理\")]),_vm._v(\" \"),_c('BreadcrumbItem',[_vm._v(\"订单审核\")])],1),_vm._v(\" \"),_c('Card',[_c('div',{staticClass:\"ss\",style:({minHeight:_vm.contentHeight+'px'})},[_c('Form',{ref:\"formInline\",attrs:{\"label-width\":68,\"inline\":\"\"}},[_c('FormItem',{attrs:{\"label\":\"订单号:\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入订单号\"},model:{value:(_vm.searchData.order),callback:function ($$v) {_vm.$set(_vm.searchData, \"order\", $$v)},expression:\"searchData.order\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"手机号:\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\"},model:{value:(_vm.searchData.mobile),callback:function ($$v) {_vm.$set(_vm.searchData, \"mobile\", $$v)},expression:\"searchData.mobile\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"买家昵称:\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入买家昵称\"},model:{value:(_vm.searchData.buyerName),callback:function ($$v) {_vm.$set(_vm.searchData, \"buyerName\", $$v)},expression:\"searchData.buyerName\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.queryTable()}}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('FormItem',[_c('Upload',{staticStyle:{\"margin-left\":\"18px\"},attrs:{\"show-upload-list\":false,\"format\":['xlsx'],\"on-format-error\":_vm.handleFormatError,\"on-success\":_vm.handleSuccess,\"action\":\"http://localhost:3000/apis/orderUpload\"}},[_c('Button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"导入订单\")])],1)],1)],1),_vm._v(\" \"),_c('Table',{ref:\"selection\",attrs:{\"height\":_vm.tableHeight,\"border\":\"\",\"columns\":_vm.pageData.columns,\"data\":_vm.pageData.data},on:{\"on-selection-change\":_vm.selectRow}}),_vm._v(\" \"),_c('Page',{staticStyle:{\"text-align\":\"right\",\"margin-top\":\"10px\"},attrs:{\"total\":_vm.pageData.totalCount,\"show-elevator\":\"\",\"show-total\":\"\",\"page-size\":_vm.pageData.pageSize,\"current\":_vm.pageData.pageCurrent+1},on:{\"on-change\":_vm.handleChange}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-170efaee\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/orderManage/orderExamine.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./orderExamine.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./orderExamine.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-170efaee\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./orderExamine.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/orderManage/orderExamine.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}