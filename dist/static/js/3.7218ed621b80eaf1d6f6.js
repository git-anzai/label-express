webpackJsonp([3],{"03pU":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={data:function(){var e=this;return{contentHeight:0,tableHeight:0,searchData:{order:"",mobile:"",buyerName:""},pageData:{columns:[{title:"id",key:"id",align:"center",width:60},{title:"订单号",key:"order_code",align:"center"},{title:"下单时间",key:"create_time",align:"center"},{title:"买家昵称",key:"buyer_name",align:"center"},{title:"手机号",key:"buyer_mobile",align:"center"},{title:"卖家备注",key:"buyer_make",align:"center"},{title:"详细地址",key:"buyer_address",align:"center"},{title:"货品名称",key:"goods_name",align:"center"},{title:"数量",key:"goods_count",align:"center",width:70},{title:"运单号",key:"logistics_num",align:"center"},{title:"订单状态",key:"order_status",align:"center"},{title:"操作",key:"action",align:"center",render:function(t,a){return t("div",[t("Button",{props:{size:"small",type:"success",disabled:1==a.row.order_status},style:{marginRight:"5px"},on:{click:function(){e.$Modal.confirm({title:"提示",content:"确定要打印面单吗？",onOk:function(){e.goWarehouse(a.row)}})}}},"打印面单")])}}],data:[],totalCount:0,pageCurrent:0,pageSize:0,selection:[]}}},mounted:function(){this.tableHeight=Number(window.innerHeight-318),this.contentHeight=Number(window.innerHeight-170),this.queryTable()},methods:{handleFormatError:function(){this.$Message.warning({content:"文件格式不符，请选择.xlsx格式的文件上传",duration:3,closable:!0})},handleSuccess:function(e,t){console.log(e)},goWarehouse:function(e){var t=this,a={data:{logistics_type:e.logistics_type,id:e.id,buyerName:e.buyer_name,buyerMobile:e.buyer_mobile,buyer_province:e.buyer_province,buyer_district:e.buyer_district,buyer_city:e.buyer_city,buyer_address:e.buyer_address,order_code:e.order_code}};this.$http.post(this.Api.GENERATE_LABEL,a).then(function(e){e.success&&t.getLable(e.code)})},getLable:function(e){window.open("http://localhost:3000/apis/getLabel?code="+e,"_self"),this.queryTable()},handleChange:function(e){e-=1,this.queryTable(e)},queryTable:function(e){var t=this,a=this;e=e||0;var r={order:a.searchData.order,mobile:a.searchData.mobile,buyerName:a.searchData.buyerName,pageCurrent:e,pageSize:""};a.$http.getData(a.Api.GET_ORDER_LIST,r).then(function(e){e.success&&(a.pageData.data=e.data.list,t.pageData.totalCount=parseInt(e.data.totalCount),t.pageData.pageSize=parseInt(e.data.pageSize),t.pageData.pageCurrent=parseInt(e.data.pageCurrent))})},selectRow:function(e){if(this.pageData.selection=[],1==e.length)this.pageData.selection.push(e[0].id);else if(e.length>1)for(var t in e)this.pageData.selection.push(e[t].id)}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Content",{style:{padding:"0 16px 16px"}},[a("Breadcrumb",{style:{margin:"16px 0"}},[a("BreadcrumbItem",[e._v("订单管理")]),e._v(" "),a("BreadcrumbItem",[e._v("订单审核")])],1),e._v(" "),a("Card",[a("div",{staticClass:"ss",style:{minHeight:e.contentHeight+"px"}},[a("Form",{ref:"formInline",attrs:{"label-width":68,inline:""}},[a("FormItem",{attrs:{label:"订单号:"}},[a("Input",{attrs:{type:"text",placeholder:"请输入订单号"},model:{value:e.searchData.order,callback:function(t){e.$set(e.searchData,"order",t)},expression:"searchData.order"}})],1),e._v(" "),a("FormItem",{attrs:{label:"手机号:"}},[a("Input",{attrs:{type:"text",placeholder:"请输入手机号"},model:{value:e.searchData.mobile,callback:function(t){e.$set(e.searchData,"mobile",t)},expression:"searchData.mobile"}})],1),e._v(" "),a("FormItem",{attrs:{label:"买家昵称:"}},[a("Input",{attrs:{type:"text",placeholder:"请输入买家昵称"},model:{value:e.searchData.buyerName,callback:function(t){e.$set(e.searchData,"buyerName",t)},expression:"searchData.buyerName"}})],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.queryTable()}}},[e._v("查询")])],1),e._v(" "),a("FormItem",[a("Upload",{staticStyle:{"margin-left":"18px"},attrs:{"show-upload-list":!1,format:["xlsx"],"on-format-error":e.handleFormatError,"on-success":e.handleSuccess,action:"http://localhost:3000/apis/orderUpload"}},[a("Button",{attrs:{type:"primary"}},[e._v("导入订单")])],1)],1)],1),e._v(" "),a("Table",{ref:"selection",attrs:{height:e.tableHeight,border:"",columns:e.pageData.columns,data:e.pageData.data},on:{"on-selection-change":e.selectRow}}),e._v(" "),a("Page",{staticStyle:{"text-align":"right","margin-top":"10px"},attrs:{total:e.pageData.totalCount,"show-elevator":"","show-total":"","page-size":e.pageData.pageSize,current:e.pageData.pageCurrent+1},on:{"on-change":e.handleChange}})],1)])],1)},staticRenderFns:[]},i=a("VU/8")(r,n,!1,null,null,null);t.default=i.exports}});
//# sourceMappingURL=3.7218ed621b80eaf1d6f6.js.map